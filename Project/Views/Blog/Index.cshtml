@model IEnumerable<Project.Models.Blog>
@if (User.Identity.IsAuthenticated)
{


<div style="padding-top:20px;"  id="Top">

    <h1>The Blog</h1>
    <hr style="background-color:black; border-color:black; color:black;" />
    <!--ONLY ADMINS-->
    @if (User.IsInRole("Admin"))
    {
        @Html.ActionLink("Create a new blogpost", "NewBlogPost", null, new { @class = "btn btn-info btn-lg" })
        <hr style="background-color:black; border-color:black; color:black;" />
    }
    
    <br />

    <div class="col-md-3 col-md-offset-1 hidden-xs hidden-sm"  style="float:right;" id="BlogsAside">
        <ul class="nav nav-pills nav-stacked sideList">
            <li><h3>Blogposts</h3></li>
            @foreach (var item in Model.Reverse())
            {
                <li><a href="#@item.Id">#@item.Id - @item.Headline</a></li>
            }

        </ul>
    </div>

    <div class="col-md-8">
        @foreach (var item in Model.Reverse())
        {
            <div id="@item.Id"></div>
            <img src="@item.ImageURL" style="max-height:200px; margin-bottom:20px;" class="col-md-3" />
            <h2 class="col-md-9">@item.Headline</h2>
            
            <p>@item.Post</p>
            <br />
            <div class="col-md-12">
                <span style="font-weight:bold;">Posted by: </span>@item.PostedBy
                <p></p>
                <p><a href="#Top" class="btn btn-sm btn-info">Go to the top!</a></p>
            </div>
            <hr style="background-color:black; border-color:black; color:black;" class="col-md-12" />
            <br />
        }
    </div>
    <br>
</div>
}
else
{
<h2>You need to be logged in to see the blog</h2>
@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { @class = "btn btn-info" })
}